(()=>{var e={};e.id=151,e.ids=[151],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},2877:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>o}),s(4838),s(9840),s(5866);var t=s(3191),a=s(8716),i=s(7922),l=s.n(i),n=s(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(r,c);let o=["",{children:["admin",{children:["backgrounds",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4838)),"C:\\Projects\\react-native-project\\FoodOrdering\\src\\app\\admin\\backgrounds\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9840)),"C:\\Projects\\react-native-project\\FoodOrdering\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Projects\\react-native-project\\FoodOrdering\\src\\app\\admin\\backgrounds\\page.tsx"],m="/admin/backgrounds/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/backgrounds/page",pathname:"/admin/backgrounds",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6089:(e,r,s)=>{Promise.resolve().then(s.bind(s,9386))},6557:(e,r,s)=>{"use strict";s.d(r,{Z:()=>l});var t=s(7577),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,r)=>{let s=(0,t.forwardRef)(({color:s="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:o="",children:d,...m},x)=>(0,t.createElement)("svg",{ref:x,...a,width:l,height:l,stroke:s,strokeWidth:c?24*Number(n)/Number(l):n,className:["lucide",`lucide-${i(e)}`,o].join(" "),...m},[...r.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s}},8307:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9635:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(6557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9386:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>h});var t=s(326),a=s(1289),i=s(1012),l=s(1775),n=s(6557);let c=(0,n.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),o=(0,n.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),d=(0,n.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=s(434);s(5047);var x=s(7577),u=s(381);function h(){let{session:e,loading:r,isAdmin:s}=(0,i.a)(),[n,h]=(0,x.useState)(!1),[p,g]=(0,x.useState)([]),[y,j]=(0,x.useState)(!0),b=async()=>{try{let e=await (0,l.uQ)();g(e)}catch(e){console.error("Error loading backgrounds:",e),u.ZP.error("Failed to load background images")}finally{j(!1)}},f=async e=>{let r=e.target.files?.[0];if(r){h(!0);try{let s=await (0,l.Kl)(r);s.success?(u.ZP.success("Background image uploaded successfully!"),await b(),e.target.value=""):u.ZP.error(s.error||"Upload failed")}catch(e){u.ZP.error("Upload failed"),console.error("Upload error:",e)}finally{h(!1)}}},v=e=>{if(!e)return"Unknown";let r=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,r)*100)/100+" "+["Bytes","KB","MB","GB"][r]},N=e=>{let r=(0,l.s8)(e);window.open(r,"_blank")};return r||y?(0,t.jsxs)("div",{className:"min-h-screen",children:[t.jsx(a.h,{}),t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})})]}):e&&s?(0,t.jsxs)("div",{className:"min-h-screen",children:[t.jsx(a.h,{}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Background Images"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Manage login page background images"})]}),t.jsx(m.default,{href:"/admin",className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Back to Admin"})]})}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg mb-8",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upload New Background"})}),t.jsx("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary-500 transition-colors",children:[t.jsx(c,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("label",{htmlFor:"background-upload",className:"cursor-pointer",children:[t.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-900",children:"Upload background image"}),t.jsx("span",{className:"mt-1 block text-sm text-gray-500",children:"JPEG, PNG or WebP up to 5MB"})]}),t.jsx("input",{id:"background-upload",type:"file",accept:"image/jpeg,image/png,image/webp",onChange:f,disabled:n,className:"hidden"})]}),n&&(0,t.jsxs)("div",{className:"mt-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-500 mx-auto"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Uploading..."})]})]})})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Current Background Images"})}),t.jsx("div",{className:"p-6",children:0===p.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(o,{className:"mx-auto h-12 w-12 text-gray-400"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No background images uploaded yet"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsx("div",{className:"aspect-video bg-gray-100 rounded-md mb-3 overflow-hidden",children:t.jsx("img",{src:(0,l.s8)(e.name),alt:e.name,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Size: ",v(e.metadata?.size)]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Uploaded: ",new Date(e.created_at).toLocaleDateString()]}),t.jsx("div",{className:"flex space-x-2",children:(0,t.jsxs)("button",{onClick:()=>N(e.name),className:"flex items-center space-x-1 text-xs text-indigo-600 hover:text-indigo-900",children:[t.jsx(d,{className:"w-3 h-3"}),t.jsx("span",{children:"Preview"})]})})]})]},e.id))})})]}),t.jsx("div",{className:"mt-8",children:t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:(0,t.jsxs)("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[t.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"How to use your background images"}),t.jsx("div",{className:"mt-2 text-sm text-blue-700",children:(0,t.jsxs)("ol",{className:"list-decimal list-inside space-y-1",children:[t.jsx("li",{children:"Upload your preferred background image using the form above"}),t.jsx("li",{children:"Copy the image URL from the preview"}),t.jsx("li",{children:"Update the layout file to use your custom background"}),t.jsx("li",{children:"The image will be served from Supabase CDN for optimal performance"})]})})]})]})})})]})]}):null}},1289:(e,r,s)=>{"use strict";s.d(r,{h:()=>x});var t=s(326),a=s(7048),i=s(5846),l=s(8307),n=s(6557);let c=(0,n.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var o=s(9635);let d=(0,n.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var m=s(434);function x(){let{session:e,isAdmin:r}=(0,a.a)(),{items:s}=(0,i.j)(),n=s.reduce((e,r)=>e+r.quantity,0);return t.jsx("header",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[t.jsx(m.default,{href:"/",className:"flex items-center",children:t.jsx("div",{className:"text-2xl font-bold text-primary-600",children:"\uD83C\uDF54 Food Ordering"})}),(0,t.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[t.jsx(m.default,{href:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Home"}),t.jsx(m.default,{href:"/menu",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Menu"}),e&&t.jsx(m.default,{href:"/orders",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"My Orders"}),r&&t.jsx(m.default,{href:"/admin",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Admin"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{className:"p-2 text-gray-700 hover:text-primary-600 transition-colors",children:t.jsx(l.Z,{className:"w-5 h-5"})}),(0,t.jsxs)(m.default,{href:"/cart",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors relative",children:[t.jsx(c,{className:"w-5 h-5"}),n>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:n})]}),e?t.jsx(m.default,{href:"/profile",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors",children:t.jsx(o.Z,{className:"w-5 h-5"})}):t.jsx(m.default,{href:"/sign-in",className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 transition-colors",children:"Sign In"}),t.jsx("button",{className:"md:hidden p-2 text-gray-700 hover:text-primary-600 transition-colors",children:t.jsx(d,{className:"w-5 h-5"})})]})]})})})}},1775:(e,r,s)=>{"use strict";s.d(r,{Kl:()=>a,s8:()=>i,uQ:()=>l});var t=s(2777);async function a(e,r="auth-background"){try{if(!["image/jpeg","image/png","image/webp"].includes(e.type))return{success:!1,error:"Only JPEG, PNG, and WebP images are allowed"};if(e.size>5242880)return{success:!1,error:"File size must be less than 5MB"};let s=e.name.split(".").pop(),a=`${r}.${s}`;await t.O.storage.from("backgrounds").remove([a]);let{data:i,error:l}=await t.O.storage.from("backgrounds").upload(a,e,{cacheControl:"3600",upsert:!0});if(l)return{success:!1,error:l.message};let{data:{publicUrl:n}}=t.O.storage.from("backgrounds").getPublicUrl(a);return{success:!0,url:n}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Upload failed"}}}function i(e="auth-background.png"){let{data:{publicUrl:r}}=t.O.storage.from("backgrounds").getPublicUrl(e);return r.replace("//","/").replace("http:/","http://").replace("https:/","https://")}async function l(){let{data:e,error:r}=await t.O.storage.from("backgrounds").list("",{limit:100,sortBy:{column:"created_at",order:"desc"}});if(r)throw r;return e||[]}},4838:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(8570).createProxy)(String.raw`C:\Projects\react-native-project\FoodOrdering\src\app\admin\backgrounds\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[357,434,446],()=>s(2877));module.exports=t})();