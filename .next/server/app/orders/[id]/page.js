(()=>{var e={};e.id=12,e.ids=[12],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},7258:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),s(2527),s(9840),s(5866);var t=s(3191),i=s(8716),a=s(7922),l=s.n(a),d=s(5231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);s.d(r,n);let c=["",{children:["orders",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2527)),"C:\\Projects\\react-native-project\\FoodOrdering\\src\\app\\orders\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9840)),"C:\\Projects\\react-native-project\\FoodOrdering\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Projects\\react-native-project\\FoodOrdering\\src\\app\\orders\\[id]\\page.tsx"],x="/orders/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/orders/[id]/page",pathname:"/orders/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3324:(e,r,s)=>{Promise.resolve().then(s.bind(s,4396))},6557:(e,r,s)=>{"use strict";s.d(r,{Z:()=>l});var t=s(7577),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,r)=>{let s=(0,t.forwardRef)(({color:s="currentColor",size:l=24,strokeWidth:d=2,absoluteStrokeWidth:n,className:c="",children:o,...x},m)=>(0,t.createElement)("svg",{ref:m,...i,width:l,height:l,stroke:s,strokeWidth:n?24*Number(d)/Number(l):d,className:["lucide",`lucide-${a(e)}`,c].join(" "),...x},[...r.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]]));return s.displayName=`${e}`,s}},8307:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9635:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(6557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4396:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var t=s(326),i=s(1289),a=s(2673);let l=({item:e})=>(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 flex items-center gap-4 shadow-sm",children:[t.jsx("div",{className:"w-16 h-16 relative flex-shrink-0",children:t.jsx(a.Z,{src:e.products.image,alt:e.products.name,fill:!0,className:"object-contain"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:e.products.name}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,t.jsxs)("span",{className:"font-bold text-primary-500",children:["$",e.products.price.toFixed(2)]}),(0,t.jsxs)("span",{children:["Size: ",e.size]})]})]}),t.jsx("div",{className:"text-right",children:(0,t.jsxs)("span",{className:"font-medium text-lg text-gray-900",children:["Qty: ",e.quantity]})})]});var d=s(1012),n=s(2777),c=s(4412),o=s(5047);async function x(e){let{data:r,error:s}=await n.O.from("orders").select(`
      *,
      order_items (
        *,
        products (*)
      )
    `).eq("id",e).single();if(s)throw s;return r}s(7577);let m={New:"bg-yellow-100 text-yellow-800",Cooking:"bg-blue-100 text-blue-800",Delivering:"bg-purple-100 text-purple-800",Delivered:"bg-green-100 text-green-800"},h={New:"\uD83C\uDD95",Cooking:"\uD83D\uDC68‍\uD83C\uDF73",Delivering:"\uD83D\uDE9A",Delivered:"✅"};function u({params:e}){let r=(0,o.useRouter)(),{session:s,loading:a}=(0,d.a)(),n=parseInt(e.id),{data:u,isLoading:p,error:y}=(0,c.a)({queryKey:["order",n],queryFn:()=>x(n),enabled:!isNaN(n)&&!!s});if(a||p)return(0,t.jsxs)("div",{className:"min-h-screen",children:[t.jsx(i.h,{}),t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})})]});if(!s)return null;if(isNaN(n))return(0,t.jsxs)("div",{className:"min-h-screen",children:[t.jsx(i.h,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invalid Order"}),t.jsx("button",{onClick:()=>r.push("/orders"),className:"text-primary-600 hover:text-primary-800",children:"← Back to Orders"})]})})]});if(y||!u)return(0,t.jsxs)("div",{className:"min-h-screen",children:[t.jsx(i.h,{}),t.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order Not Found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"The order you're looking for doesn't exist or you don't have permission to view it."}),t.jsx("button",{onClick:()=>r.push("/orders"),className:"text-primary-600 hover:text-primary-800",children:"← Back to Orders"})]})})]});let j=u.order_items?.reduce((e,r)=>e+r.products.price*r.quantity,0)||0;return(0,t.jsxs)("div",{className:"min-h-screen",children:[t.jsx(i.h,{}),(0,t.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx("button",{onClick:()=>r.push("/orders"),className:"text-gray-600 hover:text-gray-800 mb-6 flex items-center",children:"← Back to Orders"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Order #",u.id]}),(0,t.jsxs)("p",{className:"text-gray-600 mt-1",children:["Placed on ",new Date(u.created_at).toLocaleString()]})]}),(0,t.jsxs)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m[u.status]}`,children:[h[u.status]," ",u.status]})]})}),(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Order Status"}),t.jsx("div",{className:"flex items-center space-x-4",children:["New","Cooking","Delivering","Delivered"].map((e,r)=>{let s=["New","Cooking","Delivering","Delivered"].indexOf(u.status)>=r,i=u.status===e;return(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${s?"bg-primary-600 text-white":"bg-gray-200 text-gray-500"} ${i?"ring-4 ring-primary-200":""}`,children:h[e]}),t.jsx("span",{className:`ml-2 text-sm ${s?"text-gray-900":"text-gray-500"}`,children:e}),r<3&&t.jsx("div",{className:`w-8 h-0.5 mx-4 ${s?"bg-primary-600":"bg-gray-200"}`})]},e)})})]})]}),(u.delivery_address||u.customer_name)&&(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delivery Information"})}),(0,t.jsxs)("div",{className:"px-6 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Customer Details"}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[u.customer_name&&t.jsx("p",{className:"font-medium text-gray-900",children:u.customer_name}),u.delivery_phone&&(0,t.jsxs)("p",{children:["\uD83D\uDCDE ",u.delivery_phone]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Delivery Address"}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[u.delivery_address&&t.jsx("p",{children:u.delivery_address}),(u.delivery_city||u.delivery_province||u.delivery_postal_code)&&t.jsx("p",{children:[u.delivery_city,u.delivery_province,u.delivery_postal_code].filter(Boolean).join(", ")}),u.delivery_country&&t.jsx("p",{children:u.delivery_country})]})]})]}),u.delivery_instructions&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Delivery Instructions"}),t.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:u.delivery_instructions})]})]})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Order Items"})}),t.jsx("div",{className:"px-6 py-4",children:u.order_items&&u.order_items.length>0?t.jsx("div",{className:"space-y-4",children:u.order_items.map(e=>t.jsx(l,{item:e},e.id))}):t.jsx("p",{className:"text-gray-600",children:"No items found in this order."})})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Order Summary"})}),t.jsx("div",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Subtotal"}),(0,t.jsxs)("span",{children:["$",j.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Delivery Fee"}),(0,t.jsxs)("span",{children:["$","2.99"]})]}),t.jsx("div",{className:"border-t border-gray-200 pt-2",children:(0,t.jsxs)("div",{className:"flex justify-between font-medium",children:[t.jsx("span",{children:"Total"}),(0,t.jsxs)("span",{children:["$",(j+2.99).toFixed(2)]})]})})]})})]})]})]})]})}},1289:(e,r,s)=>{"use strict";s.d(r,{h:()=>m});var t=s(326),i=s(7048),a=s(5846),l=s(8307),d=s(6557);let n=(0,d.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var c=s(9635);let o=(0,d.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var x=s(434);function m(){let{session:e,isAdmin:r}=(0,i.a)(),{items:s}=(0,a.j)(),d=s.reduce((e,r)=>e+r.quantity,0);return t.jsx("header",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[t.jsx(x.default,{href:"/",className:"flex items-center",children:t.jsx("div",{className:"text-2xl font-bold text-primary-600",children:"\uD83C\uDF54 Food Ordering"})}),(0,t.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[t.jsx(x.default,{href:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Home"}),t.jsx(x.default,{href:"/menu",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Menu"}),e&&t.jsx(x.default,{href:"/orders",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"My Orders"}),r&&t.jsx(x.default,{href:"/admin",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Admin"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{className:"p-2 text-gray-700 hover:text-primary-600 transition-colors",children:t.jsx(l.Z,{className:"w-5 h-5"})}),(0,t.jsxs)(x.default,{href:"/cart",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors relative",children:[t.jsx(n,{className:"w-5 h-5"}),d>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:d})]}),e?t.jsx(x.default,{href:"/profile",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors",children:t.jsx(c.Z,{className:"w-5 h-5"})}):t.jsx(x.default,{href:"/sign-in",className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 transition-colors",children:"Sign In"}),t.jsx("button",{className:"md:hidden p-2 text-gray-700 hover:text-primary-600 transition-colors",children:t.jsx(o,{className:"w-5 h-5"})})]})]})})})}},2673:(e,r,s)=>{"use strict";s.d(r,{Z:()=>d});var t=s(326),i=s(6226),a=s(7577);let l="https://notjustdev-dummy.s3.us-east-2.amazonaws.com/food/default.png";function d({src:e,alt:r,width:s=400,height:d=300,className:n="",fill:c=!1}){let[o,x]=(0,a.useState)(e||l),m={src:o,alt:r,className:`${n}`,onError:()=>{o!==l&&x(l)}};return c?t.jsx(i.default,{...m,fill:!0}):t.jsx(i.default,{...m,width:s,height:d})}},2527:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(8570).createProxy)(String.raw`C:\Projects\react-native-project\FoodOrdering\src\app\orders\[id]\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[357,434,226,446],()=>s(7258));module.exports=t})();