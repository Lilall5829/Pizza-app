(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{3269:function(e,r,t){Promise.resolve().then(t.bind(t,6680))},6680:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f}});var s=t(7437),a=t(2556),i=t(9295),n=t(3724),l=t(1192),c=t(5526),o=t(6593),d=t(9376),x=t(2265);async function m(e){let{data:r,error:t}=await c.O.from("products").select("*").eq("id",e).single();if(t)throw t;return r}let u=["S","M","L","XL"],h={S:.8,M:1,L:1.3,XL:1.6};function f(e){let{params:r}=e,t=(0,d.useRouter)(),{addItem:c}=(0,l.j)(),f=parseInt(r.id),[p,g]=(0,x.useState)("M"),[y,j]=(0,x.useState)(1),{data:b,isLoading:N,error:v}=(0,o.a)({queryKey:["product",f],queryFn:()=>m(f),enabled:!isNaN(f)});if(isNaN(f))return(0,s.jsxs)("div",{className:"min-h-screen",children:[(0,s.jsx)(i.h,{}),(0,s.jsx)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),(0,s.jsx)("button",{onClick:()=>t.push("/menu"),className:"text-primary-600 hover:text-primary-800",children:"← Back to Menu"})]})})]});if(N)return(0,s.jsxs)("div",{className:"min-h-screen",children:[(0,s.jsx)(i.h,{}),(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})})]});if(v||!b)return(0,s.jsxs)("div",{className:"min-h-screen",children:[(0,s.jsx)(i.h,{}),(0,s.jsx)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"The product you're looking for doesn't exist."}),(0,s.jsx)("button",{onClick:()=>t.push("/menu"),className:"text-primary-600 hover:text-primary-800",children:"← Back to Menu"})]})})]});let w=b.price*h[p];return(0,s.jsxs)("div",{className:"min-h-screen",children:[(0,s.jsx)(i.h,{}),(0,s.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsx)("button",{onClick:()=>t.back(),className:"text-gray-600 hover:text-gray-800 mb-6 flex items-center",children:"← Back"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsx)("div",{className:"aspect-square relative bg-gray-100 rounded-lg overflow-hidden",children:(0,s.jsx)(n.Z,{src:b.image,alt:b.name,fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:b.name}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-primary-600",children:["$",w.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Select Size"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:u.map(e=>(0,s.jsxs)("button",{onClick:()=>g(e),className:"p-3 border rounded-lg text-center transition-colors ".concat(p===e?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-300 hover:border-gray-400"),children:[(0,s.jsx)("div",{className:"font-medium",children:e}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["$",(b.price*h[e]).toFixed(2)]})]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Quantity"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("button",{onClick:()=>j(Math.max(1,y-1)),className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:"-"}),(0,s.jsx)("span",{className:"text-xl font-medium w-8 text-center",children:y}),(0,s.jsx)("button",{onClick:()=>j(y+1),className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:"+"})]})]}),(0,s.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-lg font-medium",children:"Total:"}),(0,s.jsxs)("span",{className:"text-2xl font-bold text-primary-600",children:["$",(w*y).toFixed(2)]})]})}),(0,s.jsx)(a.Z,{onClick:()=>{b&&c(b,p,y)},className:"w-full",text:"Add ".concat(y," to Cart")})]})]})]})]})}},2556:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var s=t(7437),a=t(2265),i=t(1994),n=t(3335);let l=(0,a.forwardRef)((e,r)=>{let{text:t,children:a,className:l,variant:c="primary",size:o="md",disabled:d,...x}=e;return(0,s.jsx)("button",{className:function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.m6)((0,i.W)(r))}("inline-flex items-center justify-center font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 rounded-full",{primary:"bg-primary-500 text-white hover:bg-primary-600 focus-visible:ring-primary-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus-visible:ring-gray-500",outline:"border border-gray-300 bg-transparent hover:bg-gray-50 focus-visible:ring-gray-500",ghost:"hover:bg-gray-100 hover:text-gray-900 focus-visible:ring-gray-500"}[c],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-8 text-lg"}[o],l),ref:r,disabled:d,...x,children:a||t})});l.displayName="Button";var c=l},9295:function(e,r,t){"use strict";t.d(r,{h:function(){return x}});var s=t(7437),a=t(3896),i=t(9099),n=t(3247),l=t(6275),c=t(2369),o=t(8293),d=t(7648);function x(){let{session:e,isAdmin:r}=(0,a.a)(),{items:t}=(0,i.j)(),x=t.reduce((e,r)=>e+r.quantity,0);return(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsx)(d.default,{href:"/",className:"flex items-center",children:(0,s.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:"\uD83C\uDF54 Food Ordering"})}),(0,s.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,s.jsx)(d.default,{href:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Home"}),(0,s.jsx)(d.default,{href:"/menu",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Menu"}),e&&(0,s.jsx)(d.default,{href:"/orders",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"My Orders"}),r&&(0,s.jsx)(d.default,{href:"/admin",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Admin"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{className:"p-2 text-gray-700 hover:text-primary-600 transition-colors",children:(0,s.jsx)(n.Z,{className:"w-5 h-5"})}),(0,s.jsxs)(d.default,{href:"/cart",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors relative",children:[(0,s.jsx)(l.Z,{className:"w-5 h-5"}),x>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:x})]}),e?(0,s.jsx)(d.default,{href:"/profile",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors",children:(0,s.jsx)(c.Z,{className:"w-5 h-5"})}):(0,s.jsx)(d.default,{href:"/sign-in",className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 transition-colors",children:"Sign In"}),(0,s.jsx)("button",{className:"md:hidden p-2 text-gray-700 hover:text-primary-600 transition-colors",children:(0,s.jsx)(o.Z,{className:"w-5 h-5"})})]})]})})})}},3724:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var s=t(7437),a=t(3145),i=t(2265);let n="https://notjustdev-dummy.s3.us-east-2.amazonaws.com/food/default.png";function l(e){let{src:r,alt:t,width:l=400,height:c=300,className:o="",fill:d=!1}=e,[x,m]=(0,i.useState)(r||n),u={src:x,alt:t,className:"".concat(o),onError:()=>{x!==n&&m(n)}};return d?(0,s.jsx)(a.default,{...u,fill:!0}):(0,s.jsx)(a.default,{...u,width:l,height:c})}},1192:function(e,r,t){"use strict";t.d(r,{Providers:function(){return o},a:function(){return a.a},j:function(){return i.j}});var s=t(7437),a=t(3896),i=t(9099),n=t(2979),l=t(9827),c=t(2265);function o(e){let{children:r}=e,[t]=(0,c.useState)(()=>new n.S({defaultOptions:{queries:{staleTime:6e4,gcTime:6e5}}}));return(0,s.jsx)(l.aH,{client:t,children:(0,s.jsx)(a.Z,{children:(0,s.jsx)(i.Z,{children:r})})})}}},function(e){e.O(0,[215,33,648,145,137,873,99,971,117,744],function(){return e(e.s=3269)}),_N_E=e.O()}]);