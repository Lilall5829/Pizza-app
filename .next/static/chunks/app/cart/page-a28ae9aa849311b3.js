(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{4462:function(e,s,t){Promise.resolve().then(t.bind(t,3375))},3375:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var r=t(7437),a=t(2556),i=t(9099),n=t(1047),l=t(9397),c=t(2489),d=t(3145);function o(e){let{item:s}=e,{updateQuantity:t}=(0,i.j)();return(0,r.jsxs)("div",{className:"flex items-center space-x-4 border-b border-gray-200 pb-4 last:border-b-0 last:pb-0",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-200 rounded-md overflow-hidden",children:s.product.image?(0,r.jsx)(d.default,{src:s.product.image,alt:s.product.name,width:64,height:64,className:"w-full h-full object-cover"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,r.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:s.product.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mb-1",children:["Size: ",s.size]}),(0,r.jsxs)("p",{className:"text-sm text-gray-900 font-medium",children:["$",s.product.price.toFixed(2)," each"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>t(s.id,-1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Decrease quantity",children:(0,r.jsx)(n.Z,{className:"w-4 h-4"})}),(0,r.jsx)("span",{className:"w-8 text-center text-sm font-medium",children:s.quantity}),(0,r.jsx)("button",{onClick:()=>t(s.id,1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Increase quantity",children:(0,r.jsx)(l.Z,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"text-right flex items-center space-x-3",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["$",(s.product.price*s.quantity).toFixed(2)]})}),(0,r.jsx)("button",{onClick:()=>{for(let e=0;e<s.quantity;e++)t(s.id,-1)},className:"p-1 text-gray-400 hover:text-red-600 transition-colors","aria-label":"Remove item",children:(0,r.jsx)(c.Z,{className:"w-4 h-4"})})]})]})}var x=t(9295),m=t(1192),h=t(7648),u=t(9376),f=t(2265);function p(){let{items:e,updateQuantity:s,total:t}=(0,i.j)(),{session:n,loading:l}=(0,m.a)(),c=(0,u.useRouter)();return((0,f.useEffect)(()=>{l||n||(0,u.redirect)("/sign-in")},[n,l]),l)?(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsx)(x.h,{}),(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})})]}):n?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(x.h,{}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Shopping Cart"}),0===e.length?(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)("span",{className:"text-6xl",children:"\uD83D\uDED2"})}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Your cart is empty"}),(0,r.jsx)("p",{className:"text-gray-600 mb-8",children:"Add some delicious items to your cart to get started!"}),(0,r.jsx)(h.default,{href:"/menu",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:"Browse Menu"})]}):(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:["Cart Items (",e.length,")"]}),(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,r.jsx)(o,{item:e},e.id))})]})})}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsx)("div",{className:"bg-white shadow rounded-lg sticky top-4",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Summary"}),(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Subtotal"}),(0,r.jsxs)("span",{children:["$",t.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Delivery"}),(0,r.jsx)("span",{children:"$2.99"})]}),(0,r.jsx)("div",{className:"border-t border-gray-200 pt-2",children:(0,r.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsxs)("span",{children:["$",(t+2.99).toFixed(2)]})]})})]}),(0,r.jsx)(a.Z,{onClick:()=>{0!==e.length&&c.push("/checkout")},disabled:0===e.length,className:"w-full",text:"Proceed to Checkout"}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsx)(h.default,{href:"/menu",className:"text-sm text-primary-600 hover:text-primary-700",children:"Continue Shopping"})})]})})})]})]})]}):null}},2556:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var r=t(7437),a=t(2265),i=t(1994),n=t(3335);let l=(0,a.forwardRef)((e,s)=>{let{text:t,children:a,className:l,variant:c="primary",size:d="md",disabled:o,...x}=e;return(0,r.jsx)("button",{className:function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.m6)((0,i.W)(s))}("inline-flex items-center justify-center font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 rounded-full",{primary:"bg-primary-500 text-white hover:bg-primary-600 focus-visible:ring-primary-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus-visible:ring-gray-500",outline:"border border-gray-300 bg-transparent hover:bg-gray-50 focus-visible:ring-gray-500",ghost:"hover:bg-gray-100 hover:text-gray-900 focus-visible:ring-gray-500"}[c],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-8 text-lg"}[d],l),ref:s,disabled:o,...x,children:a||t})});l.displayName="Button";var c=l},9295:function(e,s,t){"use strict";t.d(s,{h:function(){return x}});var r=t(7437),a=t(3896),i=t(9099),n=t(3247),l=t(6275),c=t(2369),d=t(8293),o=t(7648);function x(){let{session:e,isAdmin:s}=(0,a.a)(),{items:t}=(0,i.j)(),x=t.reduce((e,s)=>e+s.quantity,0);return(0,r.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsx)(o.default,{href:"/",className:"flex items-center",children:(0,r.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:"\uD83C\uDF54 Food Ordering"})}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,r.jsx)(o.default,{href:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Home"}),(0,r.jsx)(o.default,{href:"/menu",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Menu"}),e&&(0,r.jsx)(o.default,{href:"/orders",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"My Orders"}),s&&(0,r.jsx)(o.default,{href:"/admin",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Admin"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{className:"p-2 text-gray-700 hover:text-primary-600 transition-colors",children:(0,r.jsx)(n.Z,{className:"w-5 h-5"})}),(0,r.jsxs)(o.default,{href:"/cart",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors relative",children:[(0,r.jsx)(l.Z,{className:"w-5 h-5"}),x>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:x})]}),e?(0,r.jsx)(o.default,{href:"/profile",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors",children:(0,r.jsx)(c.Z,{className:"w-5 h-5"})}):(0,r.jsx)(o.default,{href:"/sign-in",className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 transition-colors",children:"Sign In"}),(0,r.jsx)("button",{className:"md:hidden p-2 text-gray-700 hover:text-primary-600 transition-colors",children:(0,r.jsx)(d.Z,{className:"w-5 h-5"})})]})]})})})}},1192:function(e,s,t){"use strict";t.d(s,{Providers:function(){return d},a:function(){return a.a},j:function(){return i.j}});var r=t(7437),a=t(3896),i=t(9099),n=t(2979),l=t(9827),c=t(2265);function d(e){let{children:s}=e,[t]=(0,c.useState)(()=>new n.S({defaultOptions:{queries:{staleTime:6e4,gcTime:6e5}}}));return(0,r.jsx)(l.aH,{client:t,children:(0,r.jsx)(a.Z,{children:(0,r.jsx)(i.Z,{children:s})})})}}},function(e){e.O(0,[215,33,648,145,137,835,99,971,117,744],function(){return e(e.s=4462)}),_N_E=e.O()}]);