"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{389:function(e,r,t){t.d(r,{Z:function(){return n}});var s=t(7437),a=t(2556),o=t(2265);let l=[{value:"AB",label:"Alberta"},{value:"BC",label:"British Columbia"},{value:"MB",label:"Manitoba"},{value:"NB",label:"New Brunswick"},{value:"NL",label:"Newfoundland and Labrador"},{value:"NS",label:"Nova Scotia"},{value:"ON",label:"Ontario"},{value:"PE",label:"Prince Edward Island"},{value:"QC",label:"Quebec"},{value:"SK",label:"Saskatchewan"},{value:"NT",label:"Northwest Territories"},{value:"NU",label:"Nunavut"},{value:"YT",label:"Yukon"}];function n(e){let{initialData:r={},onSubmit:t,onCancel:n,submitText:i="Save Address",loading:d=!1}=e,[c,m]=(0,o.useState)({customerName:r.customerName||"",phone:r.phone||"",address:r.address||"",city:r.city||"",province:r.province||"ON",postalCode:r.postalCode||"",country:r.country||"Canada",instructions:r.instructions||""}),[u,x]=(0,o.useState)({}),p=()=>{let e={};return c.customerName.trim()||(e.customerName="Name is required"),c.phone.trim()?/^[\+]?[1-9][\d]{0,15}$/.test(c.phone.replace(/[\s\-\(\)]/g,""))||(e.phone="Please enter a valid phone number"):e.phone="Phone number is required",c.address.trim()||(e.address="Address is required"),c.city.trim()||(e.city="City is required"),c.postalCode.trim()?/^[A-Za-z]\d[A-Za-z] ?\d[A-Za-z]\d$/.test(c.postalCode)||(e.postalCode="Please enter a valid Canadian postal code (e.g., K1A 0A6)"):e.postalCode="Postal code is required",x(e),0===Object.keys(e).length},h=e=>r=>{m(t=>({...t,[e]:r.target.value})),u[e]&&x(r=>({...r,[e]:void 0}))};return(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),p()){let e=c.phone.replace(/[\s\-\(\)]/g,""),r=c.postalCode.toUpperCase().replace(/\s/g,""),s=6===r.length?"".concat(r.slice(0,3)," ").concat(r.slice(3)):c.postalCode;t({...c,phone:e,postalCode:s})}},className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),(0,s.jsx)("input",{type:"text",id:"customerName",value:c.customerName,onChange:h("customerName"),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ".concat(u.customerName?"border-red-300":"border-gray-300"),placeholder:"Enter your full name"}),u.customerName&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.customerName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number *"}),(0,s.jsx)("input",{type:"tel",id:"phone",value:c.phone,onChange:h("phone"),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ".concat(u.phone?"border-red-300":"border-gray-300"),placeholder:"(416) 123-4567"}),u.phone&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.phone})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Street Address *"}),(0,s.jsx)("input",{type:"text",id:"address",value:c.address,onChange:h("address"),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ".concat(u.address?"border-red-300":"border-gray-300"),placeholder:"123 Main Street, Apt 4B"}),u.address&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.address})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City *"}),(0,s.jsx)("input",{type:"text",id:"city",value:c.city,onChange:h("city"),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ".concat(u.city?"border-red-300":"border-gray-300"),placeholder:"Toronto"}),u.city&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.city})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"province",className:"block text-sm font-medium text-gray-700",children:"Province *"}),(0,s.jsx)("select",{id:"province",value:c.province,onChange:h("province"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:l.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700",children:"Postal Code *"}),(0,s.jsx)("input",{type:"text",id:"postalCode",value:c.postalCode,onChange:h("postalCode"),className:"mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 ".concat(u.postalCode?"border-red-300":"border-gray-300"),placeholder:"K1A 0A6",maxLength:7}),u.postalCode&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.postalCode})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,s.jsxs)("select",{id:"country",value:c.country,onChange:h("country"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,s.jsx)("option",{value:"Canada",children:"Canada"}),(0,s.jsx)("option",{value:"United States",children:"United States"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"instructions",className:"block text-sm font-medium text-gray-700",children:"Delivery Instructions (Optional)"}),(0,s.jsx)("textarea",{id:"instructions",value:c.instructions,onChange:h("instructions"),rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Leave at front door, Ring doorbell, Call when arriving..."})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[(0,s.jsx)(a.Z,{type:"submit",disabled:d,className:"flex-1",text:d?"Saving...":i}),n&&(0,s.jsx)(a.Z,{type:"button",variant:"outline",onClick:n,disabled:d,className:"flex-1",text:"Cancel"})]})]})}},2556:function(e,r,t){t.d(r,{Z:function(){return i}});var s=t(7437),a=t(2265),o=t(1994),l=t(3335);let n=(0,a.forwardRef)((e,r)=>{let{text:t,children:a,className:n,variant:i="primary",size:d="md",disabled:c,...m}=e;return(0,s.jsx)("button",{className:function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,l.m6)((0,o.W)(r))}("inline-flex items-center justify-center font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 rounded-full",{primary:"bg-primary-500 text-white hover:bg-primary-600 focus-visible:ring-primary-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 focus-visible:ring-gray-500",outline:"border border-gray-300 bg-transparent hover:bg-gray-50 focus-visible:ring-gray-500",ghost:"hover:bg-gray-100 hover:text-gray-900 focus-visible:ring-gray-500"}[i],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-8 text-lg"}[d],n),ref:r,disabled:c,...m,children:a||t})});n.displayName="Button";var i=n},9295:function(e,r,t){t.d(r,{h:function(){return m}});var s=t(7437),a=t(3896),o=t(9099),l=t(3247),n=t(6275),i=t(2369),d=t(8293),c=t(7648);function m(){let{session:e,isAdmin:r}=(0,a.a)(),{items:t}=(0,o.j)(),m=t.reduce((e,r)=>e+r.quantity,0);return(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsx)(c.default,{href:"/",className:"flex items-center",children:(0,s.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:"\uD83C\uDF54 Food Ordering"})}),(0,s.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,s.jsx)(c.default,{href:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Home"}),(0,s.jsx)(c.default,{href:"/menu",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Menu"}),e&&(0,s.jsx)(c.default,{href:"/orders",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"My Orders"}),r&&(0,s.jsx)(c.default,{href:"/admin",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Admin"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{className:"p-2 text-gray-700 hover:text-primary-600 transition-colors",children:(0,s.jsx)(l.Z,{className:"w-5 h-5"})}),(0,s.jsxs)(c.default,{href:"/cart",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors relative",children:[(0,s.jsx)(n.Z,{className:"w-5 h-5"}),m>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:m})]}),e?(0,s.jsx)(c.default,{href:"/profile",className:"p-2 text-gray-700 hover:text-primary-600 transition-colors",children:(0,s.jsx)(i.Z,{className:"w-5 h-5"})}):(0,s.jsx)(c.default,{href:"/sign-in",className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 transition-colors",children:"Sign In"}),(0,s.jsx)("button",{className:"md:hidden p-2 text-gray-700 hover:text-primary-600 transition-colors",children:(0,s.jsx)(d.Z,{className:"w-5 h-5"})})]})]})})})}},1192:function(e,r,t){t.d(r,{Providers:function(){return d},a:function(){return a.a},j:function(){return o.j}});var s=t(7437),a=t(3896),o=t(9099),l=t(2979),n=t(9827),i=t(2265);function d(e){let{children:r}=e,[t]=(0,i.useState)(()=>new l.S({defaultOptions:{queries:{staleTime:6e4,gcTime:6e5}}}));return(0,s.jsx)(n.aH,{client:t,children:(0,s.jsx)(a.Z,{children:(0,s.jsx)(o.Z,{children:r})})})}}}]);